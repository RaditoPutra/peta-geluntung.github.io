const pusatDesaGeluntung = [-8.45688550301095, 115.17126125700298];
const tingkatZoomAwal = 14;

// --- INISIALISASI PETA ---
const mymap = L.map('mapid').setView(pusatDesaGeluntung, tingkatZoomAwal);

// --- TAMBAHKAN TILE LAYER (Dasar Peta) ---
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
}).addTo(mymap);

// --- TAMBAHKAN MARKER (Penanda Lokasi) ---
const koordinatKantorDesa = [-8.45688550301095, 115.17126125700298];
L.marker(koordinatKantorDesa)
    .addTo(mymap)
    .bindPopup('<b>Kantor Perbekel Desa Geluntung</b><br>Pusat Pemerintahan Desa.')
    .openPopup();

const koordinatSDGeluntung = [-8.460767, 115.169747];
L.marker(koordinatSDGeluntung)
    .addTo(mymap)
    .bindPopup('<b>SDN 1 Geluntung</b><br>Sekolah Dasar Negeri Geluntung.')
    .openPopup();

// --- MENAMBAHKAN POLYGON ---
const koordinatPolygonSawah = [
    [-8.473917, 115.255837], [-8.473941, 115.256374], [-8.474001, 115.256076],
    [-8.474022, 115.256459], [-8.473965, 115.256735], [-8.474027, 115.258219],
    [-8.473997, 115.258291], [-8.473954, 115.258258], [-8.473883, 115.258177],
    [-8.473884, 115.258904], [-8.473901, 115.258916], [-8.473902, 115.260191],
    [-8.473918, 115.260222], [-8.473917, 115.260639], [-8.473878, 115.260683],
    [-8.473836, 115.261039], [-8.473827, 115.261173], [-8.473821, 115.261704],
    [-8.473814, 115.261963], [-8.473798, 115.262165], [-8.473757, 115.261954],
    [-8.473736, 115.261921], [-8.473693, 115.261931], [-8.473565, 115.262112],
    [-8.473468, 115.262279], [-8.473442, 115.262000], [-8.473411, 115.262214],
    [-8.473385, 115.262862], [-8.473363, 115.263085], [-8.473294, 115.263343],
    [-8.473176, 115.263500], [-8.473163, 115.263600], [-8.473157, 115.263736],
    [-8.473159, 115.264811], [-8.473151, 115.265115], [-8.473139, 115.265339],
    [-8.473123, 115.265511], [-8.473069, 115.265717], [-8.473003, 115.265844],
    [-8.472833, 115.265736], [-8.472849, 115.266627], [-8.472816, 115.268214],
    [-8.472734, 115.268550], [-8.472795, 115.268597], [-8.472884, 115.268885],
    [-8.472932, 115.268992], [-8.472999, 115.269026], [-8.473087, 115.269166],
    [-8.473131, 115.269306], [-8.473201, 115.269457], [-8.473262, 115.269663],
    [-8.473411, 115.269622], [-8.473489, 115.269632], [-8.473509, 115.269695],
    [-8.473508, 115.269934], [-8.473482, 115.270351], [-8.473454, 115.270558],
    [-8.473297, 115.270974], [-8.473304, 115.272363], [-8.473717, 115.271551],
    [-8.473811, 115.271526], [-8.473845, 115.271551], [-8.473921, 115.271302],
    [-8.474022, 115.270864], [-8.474063, 115.270589], [-8.474119, 115.270345],
    [-8.474142, 115.270125], [-8.474263, 115.269629], [-8.474302, 115.269408],
    [-8.474333, 115.269028], [-8.474343, 115.268697], [-8.474355, 115.268483],
    [-8.474380, 115.268216], [-8.474457, 115.267788], [-8.474488, 115.267573],
    [-8.474515, 115.267330], [-8.474537, 115.267074], [-8.474558, 115.266928],
    [-8.474608, 115.266709], [-8.474753, 115.266343], [-8.474795, 115.266165],
    [-8.474851, 115.265737], [-8.475048, 115.264406], [-8.475162, 115.263987],
    [-8.475195, 115.263947], [-8.475270, 115.263936], [-8.475301, 115.263819],
    [-8.475375, 115.263365], [-8.475426, 115.262698], [-8.475448, 115.262257],
    [-8.475451, 115.261801], [-8.475395, 115.261479], [-8.475265, 115.261563],
    [-8.475218, 115.261394], [-8.475152, 115.261448], [-8.475047, 115.261123],
    [-8.475011, 115.261123], [-8.474922, 115.261645], [-8.474891, 115.261683],
    [-8.474717, 115.262243], [-8.474691, 115.261885], [-8.474679, 115.261402],
    [-8.474690, 115.261336], [-8.474679, 115.260103], [-8.474704, 115.259955],
    [-8.474692, 115.259429], [-8.474700, 115.259364], [-8.474655, 115.258008],
    [-8.474604, 115.258123], [-8.474602, 115.256947], [-8.474679, 115.255873],
    [-8.474711, 115.255465], [-8.474776, 115.254957], [-8.474889, 115.254103],
    [-8.474776, 115.253383], [-8.474666, 115.253928], [-8.474613, 115.254357],
    [-8.474541, 115.254686], [-8.474459, 115.255326], [-8.474434, 115.255439],
    [-8.474279, 115.255384], [-8.474196, 115.255805], [-8.474094, 115.255938],
    [-8.474042, 115.256069], [-8.473987, 115.256130], [-8.473917, 115.255837]
];

L.polygon(koordinatPolygonSawah, {
    color: 'green',
    fillColor: '#0f0',
    fillOpacity: 0.3
}).addTo(mymap).bindPopup('Area Persawahan');
