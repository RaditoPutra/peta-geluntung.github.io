const pusatDesaGeluntung = [-8.45688550301095, 115.17126125700298];

const tingkatZoomAwal = 14;



// --- INISIALISASI PETA ---

const mymap = L.map('mapid').setView(pusatDesaGeluntung, tingkatZoomAwal);



// --- TAMBAHKAN TILE LAYER (Dasar Peta) ---

L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {

    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'

}).addTo(mymap);



// --- TAMBAHKAN MARKER (Penanda Lokasi) ---

const koordinatKantorDesa = [-8.45688550301095, 115.17126125700298];

L.marker(koordinatKantorDesa)

    .addTo(mymap)

    .bindPopup('<b>Kantor Perbekel Desa Geluntung</b><br>Pusat Pemerintahan Desa.')

    .openPopup();



const koordinatSDGeluntung = [-8.460767, 115.169747];

L.marker(koordinatSDGeluntung)

    .addTo(mymap)

    .bindPopup('<b>SDN 1 Geluntung</b><br>Sekolah Dasar Negeri Geluntung.')

    .openPopup();



// --- MENAMBAHKAN POLYGON ---

// Koordinat diurutkan ulang untuk membentuk poligon yang benar

const koordinatPolygonSawah = [
  [-8.473917, 115.255837], [-8.473941, 115.256374], [-8.474001, 115.256076],
  [-8.474022, 115.256459], [-8.473965, 115.256735], [-8.474027, 115.258219],
  [-8.473997, 115.258291], [-8.473954, 115.258258], [-8.473883, 115.258177],
  [-8.473884, 115.258904], [-8.473901, 115.258916], [-8.473902, 115.260191],
  [-8.473918, 115.260222], [-8.473917, 115.260639], [-8.473878, 115.260683],
  [-8.473836, 115.261039], [-8.473827, 115.261173], [-8.473821, 115.261704],
  [-8.473814, 115.261963], [-8.473798, 115.262165], [-8.473757, 115.261954],
  [-8.473736, 115.261921], [-8.473693, 115.261931], [-8.473565, 115.262112],
  [-8.473468, 115.262279], [-8.473442, 115.362000], [-8.473411, 115.362214],
  [-8.473385, 115.362862], [-8.473363, 115.363085], [-8.473294, 115.363343],
  [-8.473176, 115.363500], [-8.473163, 115.363600], [-8.473157, 115.363736],
  [-8.473159, 115.364811], [-8.473151, 115.365115], [-8.473139, 115.365339],
  [-8.473123, 115.365511], [-8.473069, 115.365717], [-8.473003, 115.365844],
  [-8.472833, 115.365736], [-8.472849, 115.366627], [-8.472816, 115.368214],
  [-8.472734, 115.368550], [-8.472795, 115.368597], [-8.472884, 115.368885],
  [-8.472932, 115.368992], [-8.472999, 115.369026], [-8.473087, 115.369166],
  [-8.473131, 115.369306], [-8.473201, 115.369457], [-8.473262, 115.369663],
  [-8.473411, 115.369622], [-8.473489, 115.369632], [-8.473509, 115.369695],
  [-8.473508, 115.369934], [-8.473482, 115.370351], [-8.473454, 115.370558],
  [-8.473297, 115.370974], [-8.473304, 115.372363], [-8.473717, 115.371551],
  [-8.473811, 115.371526], [-8.473845, 115.371551], [-8.473921, 115.371302],
  [-8.474022, 115.370864], [-8.474063, 115.370589], [-8.474119, 115.370345],
  [-8.474142, 115.370125], [-8.474263, 115.369629], [-8.474302, 115.369408],
  [-8.473333, 115.369028], [-8.474343, 115.368697], [-8.474355, 115.368483],
  [-8.474380, 115.368216], [-8.474457, 115.367788], [-8.474488, 115.367573],
  [-8.474515, 115.367330], [-8.474537, 115.367074], [-8.474558, 115.366928],
  [-8.474608, 115.366709], [-8.474753, 115.366343], [-8.474795, 115.366165],
  [-8.474851, 115.365737], [-8.475048, 115.364406], [-8.475162, 115.363987],
  [-8.475195, 115.363947], [-8.475270, 115.363936], [-8.475301, 115.363819],
  [-8.475375, 115.363365], [-8.475426, 115.362698], [-8.475448, 115.362257],
  [-8.475451, 115.361801 | 115.361364], [-8.475395, 115.361479], [-8.475265, 115 linkage.563], [-8.475218, 115.361394], [-8.475152, 115.361448],
  [-8.475047, 115.361123], [-8.475011, 115.361123], [-8.474922, 115.361645],
  [-8.474891, 115.361683], [-8.474717, 115.362243], [-8.474691, 115.361885],
  [-8.474679, 115.361402], [-8.474690, 115.361336], [-8.474679, 115.360103],
  [-8.474704, 115.359955], [-8.474692, 115.359429], [-8.474700, 115.359364],
  [-8.474655, 115.358008], [-8.474604, 115.358123], [-8.474602, 115.356947],
  [-8.474679, 115.355873], [-8.474711, 115.355465], [-8.474776, 115.354957],
  [-8.474889, 115.354103], [-8.474776, 115.353383], [-8.474666, 115.353928],
  [-8.474613, 115.354357], [-8.474541, 115.354686], [-8.474459, 115.355326],
  [-8.474434, 115.355439], [-8.474279, 115.355384], [-8.474196, 115.355805],
  [-8.474094, 115.355938], [-8.474042, 115.356069], [-8.473987, 115.356130],
  [-8.473917, 115.355837]
];

L.polygon(koordinatPolygonSawah, {

    color: 'green',

    fillColor: '#0f0',

    fillOpacity: 0.3

}).addTo(mymap).bindPopup('Area Persawahan');
