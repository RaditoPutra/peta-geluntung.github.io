/**
 * @file Script untuk Peta Interaktif Desa Geluntung
 * @description Inisialisasi peta, menambahkan lapisan, marker, poligon wilayah, 
 * poligon area persawahan, dan legenda.
 */

// --- PUSAT PETA & TINGKAT ZOOM ---
const pusatDesaGeluntung = [-8.45413, 115.16835];
const tingkatZoomAwal = 14; // Zoom disesuaikan agar semua area terlihat

// --- INISIALISASI PETA ---
const mymap = L.map('mapid').setView(pusatDesaGeluntung, tingkatZoomAwal);

// --- LAPISAN DASAR PETA (TILE LAYER) ---
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
}).addTo(mymap);

// --- PENANDA LOKASI (MARKER) ---
const koordinatKantorDesa = [-8.45688550301095, 115.17126125700298];
L.marker(koordinatKantorDesa)
    .addTo(mymap)
    .bindPopup('<b>Kantor Perbekel Desa Geluntung</b><br>Pusat Pemerintahan Desa.')
    .openPopup();

const koordinatSDGeluntung = [-8.458973, 115.170333];
L.marker(koordinatSDGeluntung)
    .addTo(mymap)
    .bindPopup('<b>SDN 1 Geluntung</b><br>Sekolah Dasar Negeri Geluntung.');

// --- POLIGON WILAYAH DESA ---
const koordinatPolygonGeluntung = [
    [-8.452054765230011, 115.1615312873761],
    [-8.452283965716168, 115.16206789559934],
    [-8.45285696633546, 115.16179959148774],
    [-8.453056008456562, 115.16214716726869],
    [-8.452513166066073, 115.16240327573885],
    [-8.453104261076506, 115.1638423614284],
    [-8.452814745266258, 115.16390333963561],
    [-8.452404597496258, 115.163872850532],
    [-8.45172905904164, 115.16379967668338],
    [-8.451737101173062, 115.16447217919693],
    [-8.45189794376625, 115.16448379409354],
    [-8.451915176897256, 115.16570335823724],
    [-8.452064530667041, 115.16573239547876],
    [-8.452053041917571, 115.16612730196337],
    [-8.451679657373518, 115.1661679541015],
    [-8.451277550537116, 115.16650478610308],
    [-8.451191384731905, 115.16663254996577],
    [-8.451133940851067, 115.16715231658895],
    [-8.451067880377527, 115.16739332569354],
    [-8.450921398417568, 115.16757916403922],
    [-8.45054514057914, 115.16738461452107],
    [-8.450341214421705, 115.1673526735554],
    [-8.449933361783355, 115.1673613847279],
    [-8.44873565119049, 115.16753270445281],
    [-8.447828031094048, 115.167689505557],
    [-8.447581020191812, 115.16775919493664],
    [-8.447288053567855, 115.16796245562725],
    [-8.447046786769313, 115.168589660044],
    [-8.446839986536192, 115.16881034307956],
    [-8.446185118400058, 115.16905425590828],
    [-8.445082180079595, 115.16919944211585],
    [-8.444967290489924, 115.16929236128874],
    [-8.444912717922849, 115.16941722142727],
    [-8.444927079125456, 115.17046546584604],
    [-8.444858145348057, 115.17075003081288],
    [-8.444746127933513, 115.17096200267596],
    [-8.444602515816024, 115.17112461122846],
    [-8.444099872983964, 115.17131625702251],
    [-8.443482339465568, 115.1714353097127],
    [-8.441888236746559, 115.17134529426396],
    [-8.442037594397922, 115.17218156681966],
    [-8.44173313450898, 115.17368859965437],
    [-8.44096623919633, 115.17399349069032],
    [-8.441520586897019, 115.17403995027674],
    [-8.442333437267536, 115.17431290034698],
    [-8.442778637275078, 115.17441162696814],
    [-8.443436383443306, 115.17444211607176],
    [-8.444239176920135, 115.17457423552067],
    [-8.444644163335594, 115.1747049031075],
    [-8.44529041737369, 115.17484137814263],
    [-8.445850503331272, 115.17503012021248],
    [-8.447220556323932, 115.1749923717985],
    [-8.447944355940901, 115.17500398669507],
    [-8.448125305632956, 115.1750620611781],
    [-8.448122433416286, 115.17528564793778],
    [-8.447884039358021, 115.17567765069828],
    [-8.447625539610291, 115.17586929649228],
    [-8.446218149056344, 115.17624678063201],
    [-8.446281338130067, 115.17754764905193],
    [-8.450058302602198, 115.17680429566914],
    [-8.45102336135637, 115.17678106587593],
    [-8.451333558300178, 115.17680429566914],
    [-8.452097560819853, 115.17657780518529],
    [-8.453062614470364, 115.17613643911422],
    [-8.453441742029302, 115.17588671883719],
    [-8.453958733554261, 115.17565442090506],
    [-8.454165529970112, 115.17545116021445],
    [-8.455279930967942, 115.17500979414338],
    [-8.45564756770374, 115.17478911110786],
    [-8.455940527976514, 115.17444647165797],
    [-8.456032437035809, 115.17413286944956],
    [-8.456141579015256, 115.17394122365559],
    [-8.456371351502526, 115.17369440710269],
    [-8.45707072066756, 115.17330675992844],
    [-8.457352191266937, 115.17311801785858],
    [-8.457602068055332, 115.17288571992644],
    [-8.45780024608263, 115.17264761454601],
    [-8.457995551864887, 115.17251694695918],
    [-8.458455094491445, 115.17231658999275],
    [-8.459782020749211, 115.17198556543944],
    [-8.46016688595159, 115.17182295688697],
    [-8.460680996330984, 115.1713873982642],
    [-8.462484685419355, 115.17017073784469],
    [-8.463518643507847, 115.16979325370497],
    [-8.463817341994309, 115.16975840901513],
    [-8.464500901120257, 115.16974679411852],
    [-8.464782366289963, 115.16964226004907],
    [-8.465460179527655, 115.16908474501196],
    [-8.465925457415288, 115.16844592569858],
    [-8.466126503242114, 115.16805682666228],
    [-8.466155224065949, 115.1672437838998],
    [-8.46597141075639, 115.16683726251858],
    [-8.465638248909102, 115.16695341148464],
    [-8.464443459223604, 115.16703471576089],
    [-8.46400115633234, 115.16687210720839],
    [-8.463403759412891, 115.16692437424311],
    [-8.462444475882053, 115.16666884651778],
    [-8.46211131098292, 115.16666884651778],
    [-8.461307118659594, 115.16711021258884],
    [-8.461011290346772, 115.16714505727866],
    [-8.45942587648805, 115.16765030528104],
    [-8.45919036155385, 115.16731928072774],
    [-8.459081220437959, 115.1668895295533],
    [-8.459178873016791, 115.16682564762195],
    [-8.459081220437959, 115.16562350582319],
    [-8.459310991172279, 115.16548412706389],
    [-8.459207594358796, 115.16500791630304],
    [-8.45927652557087, 115.16494984181999],
    [-8.458868682386711, 115.16363735850344],
    [-8.458406268113395, 115.1637418925729],
    [-8.458386163132399, 115.16267041836096],
    [-8.45908696470799, 115.16157281063158],
    [-8.45937992236585, 115.16120694138849],
    [-8.459977325526825, 115.16074815297252],
    [-8.460925126717784, 115.1597260420711],
    [-8.459983069783492, 115.15906399296453],
    [-8.458966335019408, 115.15956343351863],
    [-8.458489560166337, 115.15998156979646],
    [-8.457840456104716, 115.16030678690147],
    [-8.457099442166708, 115.16093399131822],
    [-8.456869670113552, 115.16103852538768],
    [-8.455433591677508, 115.1609862583529],
    [-8.454681084440463, 115.16136374249264],
    [-8.453739012240868, 115.1614915063553],
    [-8.453267975277734, 115.16152054359681],
    [-8.452532696916657, 115.16142181697568],
    [-8.452274200284698, 115.16143923932059]
];
L.polygon(koordinatPolygonGeluntung, {
    color: 'gray',
    fillColor: '#626f78',
    fillOpacity: 0.4,
    weight: 1
}).addTo(mymap).bindPopup('Wilayah Geluntung');

// --- POLIGON SAWAH UTARA 1 ---
const koordinatSawahUtara = [
    [-8.443069490105902, 115.17201249786777],
    [-8.443093463868708, 115.17242892383803],
    [-8.44311089933163, 115.17277704713592],
    [-8.443156667418057, 115.17313618699383],
    [-8.443165385148188, 115.17328380889866],
    [-8.44316756458069, 115.17344905729954],
    [-8.443265639030564, 115.17354379971604],
    [-8.4434160198053, 115.17362311894848],
    [-8.443546785648751, 115.17362311894848],
    [-8.443718960608393, 115.17364955869263],
    [-8.443808317202746, 115.17366498187671],
    [-8.443808317202746, 115.17376413091726],
    [-8.44393036520063, 115.17377735078934],
    [-8.444050233732415, 115.17377735078934],
    [-8.444220229040926, 115.17380819715747],
    [-8.444200614201456, 115.17398446211845],
    [-8.444542784035866, 115.17404395154274],
    [-8.444544963460592, 115.17404615485478],
    [-8.444544963460592, 115.17409462771901],
    [-8.444638678712106, 115.17409462771901],
    [-8.444714958551188, 115.17410344096706],
    [-8.444710599703646, 115.17404615485478],
    [-8.444795597221823, 115.17405496810281],
    [-8.444874056452756, 115.17404835816677],
    [-8.444891491835245, 115.17409683103105],
    [-8.44496341277967, 115.17409462771901],
    [-8.445042961687435, 115.17411335587113],
    [-8.445113792892881, 115.17411115255912],
    [-8.445187893216971, 115.17406047638285],
    [-8.445258724395817, 115.17411005090312],
    [-8.445345901213472, 115.17408801778298],
    [-8.44549737088731, 115.17408691612701],
    [-8.445944151593297, 115.17405606975882],
    [-8.445952869260463, 115.17411555918316],
    [-8.446170810875616, 115.17403623995072],
    [-8.4462536286571, 115.17402081676664],
    [-8.4463386258354, 115.1740142068306],
    [-8.446451955377341, 115.17395031078229],
    [-8.446556567232667, 115.17401861345465],
    [-8.446536952511952, 115.17410233931109],
    [-8.44658707901846, 115.17418606516755],
    [-8.446665537885135, 115.17424996121588],
    [-8.446791943803442, 115.17423013140777],
    [-8.44683989086507, 115.17430724732819],
    [-8.44698155260325, 115.17428741752008],
    [-8.446977193781313, 115.17420148835161],
    [-8.447142828980326, 115.17418606516753],
    [-8.447328078789718, 115.17416843867144],
    [-8.44729538765335, 115.17394810747025],
    [-8.447500252062223, 115.1739194644141],
    [-8.447526404957657, 115.17411335587116],
    [-8.447670245850832, 115.17408471281497],
    [-8.447913249662161, 115.17405386644681],
    [-8.448026578741565, 115.17429843408016],
    [-8.448461369804614, 115.1742003866956],
    [-8.448600851545578, 115.17430614567219],
    [-8.448836226869085, 115.17422241981572],
    [-8.448879814876197, 115.17391395613406],
    [-8.448975708474503, 115.17386107664578],
    [-8.449167495599593, 115.17386107664578],
    [-8.44945081731444, 115.17372006467703],
    [-8.449769009146078, 115.17370684480495],
    [-8.449934643146326, 115.1734204142434],
    [-8.449808238257825, 115.17294890547286],
    [-8.449498764045593, 115.17311635718578],
    [-8.44932005347191, 115.17312517043379],
    [-8.449184930788055, 115.17289602598458],
    [-8.44904109045968, 115.1728651796164],
    [-8.448818791664863, 115.17288721273651],
    [-8.448182406171382, 115.1730326313293],
    [-8.448173688554593, 115.17313839030587],
    [-8.448042924279116, 115.1731956764182],
    [-8.447999336177443, 115.1730502578254],
    [-8.447685501699992, 115.17307669756954],
    [-8.447633195928928, 115.17302381808126],
    [-8.44749807265419, 115.17280348688007],
    [-8.447402178688568, 115.172790267008],
    [-8.447240902419908, 115.172790267008],
    [-8.447197314227617, 115.17253468281461],
    [-8.446866043805265, 115.17256552918278],
    [-8.446303755200416, 115.17256112255876],
    [-8.445872230831657, 115.17253027619059],
    [-8.445780695297456, 115.17230113174138],
    [-8.445658647884743, 115.17231435161342],
    [-8.445619418351031, 115.17204114092395],
    [-8.445497370887312, 115.17200588793176],
    [-8.445039692554566, 115.17202351442786],
    [-8.444350994611908, 115.1721072402843],
    [-8.443902032633133, 115.17210283366033],
    [-8.443396404924961, 115.17206317404413],
    [-8.44322205038925, 115.17204114092401]
];
L.polygon(koordinatSawahUtara, {
    color: 'green',
    fillColor: '#29f705',
    fillOpacity: 0.4,
    weight: 1
}).addTo(mymap).bindPopup('Area Persawahan (Utara)');

// Sawah Utara 2
const koordinatSawahUtaraDua = [
    [-8.443072073618518, 115.17182414832297],
    [-8.443087277719563, 115.17169947498738],
    [-8.44319370641011, 115.1716388461735],
    [-8.443349126032475, 115.1716525090048],
    [-8.443552691856237, 115.17155601525876],
    [-8.443638848313627, 115.17152271210743],
    [-8.443859307396439, 115.17151502676485],
    [-8.443875356137013, 115.17156455452829],
    [-8.443927725706882, 115.17157736343263],
    [-8.443926036366028, 115.17162347548826],
    [-8.44398093993995, 115.1716576325665],
    [-8.44413129122548, 115.17165336293172],
    [-8.444172680052226, 115.17164226188132],
    [-8.444150718634505, 115.17155516133181],
    [-8.444400740854688, 115.17150990320313],
    [-8.444412566225957, 115.17155345347788],
    [-8.444508858521361, 115.17155430740483],
    [-8.444523217896688, 115.17157480165179],
    [-8.444655830925921, 115.17155430740488],
    [-8.44465667559475, 115.17152015032664],
    [-8.444739453131119, 115.17148855502927],
    [-8.444793511920794, 115.17140487018756],
    [-8.444902474145723, 115.17135790420498],
    [-8.444967513598653, 115.1712699497285],
    [-8.445060427083824, 115.17123152301546],
    [-8.445114485828539, 115.17115808529726],
    [-8.445134757855854, 115.17118199525201],
    [-8.445155874549839, 115.17121444447636],
    [-8.445356905418743, 115.17119224237548],
    [-8.445415187457792, 115.17120163557202],
    [-8.445438838137795, 115.17125116333544],
    [-8.445461644149281, 115.17143304977711],
    [-8.445465022817535, 115.17157650950573],
    [-8.445468401485758, 115.17169093571783],
    [-8.445295244701182, 115.1716994749874],
    [-8.44529693403604, 115.17173021635783],
    [-8.445128000513533, 115.17173277813869],
    [-8.445126311177933, 115.17185062005862],
    [-8.44509252446441, 115.17187367608645],
    [-8.444954843576216, 115.17188136142904],
    [-8.444627112184602, 115.1719445520238],
    [-8.444454799691812, 115.17197700124811],
    [-8.444294312496979, 115.17198724837161],
    [-8.44399360999436, 115.17198554051768],
    [-8.443819607877412, 115.1719735855403],
    [-8.443088967064087, 115.17187794572122],
    [-8.443283241634983, 115.17190697923773],
    [-8.44355691521244, 115.1719308891925],
    [-8.443712334688556, 115.17195650700118]
];
L.polygon(koordinatSawahUtaraDua, {
    color: 'green',
    fillColor: '#29f705',
    fillOpacity: 0.4,
    weight: 1
}).addTo(mymap).bindPopup('Area Persawahan (Utara)');

// Sawah Utara 3
const koordinatSawahUtaraTiga = [
    [-8.44558074218737, 115.17192405777685],
    [-8.44558074218737, 115.1716081048031],
    [-8.44557060618556, 115.17136558954758],
    [-8.445501343499398, 115.17100864807995],
    [-8.445405051451637, 115.17068586369054],
    [-8.445317206053774, 115.17034941646983],
    [-8.44535437141685, 115.17028793372903],
    [-8.44558074218737, 115.1702589002125],
    [-8.44612132856482, 115.17003346349608],
    [-8.446286882991428, 115.16994123938485],
    [-8.446313912278823, 115.16982168961098],
    [-8.446276747008167, 115.16967139846672],
    [-8.446477777293117, 115.16955355654679],
    [-8.446727798005575, 115.16938618686339],
    [-8.44694065334931, 115.16929225489824],
    [-8.447094382135642, 115.16924955855043],
    [-8.447150129922147, 115.16924272713476],
    [-8.447266693449714, 115.16920173864088],
    [-8.447332577167108, 115.16917270512438],
    [-8.447710985992712, 115.16996173363181],
    [-8.447874850413633, 115.16988829591357],
    [-8.44748799512254, 115.16911293023745],
    [-8.44740690750143, 115.16899508831752],
    [-8.447444072663222, 115.16892677416102],
    [-8.447562325426919, 115.16881064009499],
    [-8.44777518031023, 115.16864839397336],
    [-8.448042093410635, 115.16851859707604],
    [-8.448241433453765, 115.16844686721174],
    [-8.448400229685594, 115.16840246301001],
    [-8.448523550118411, 115.16834781168482],
    [-8.448594501582438, 115.1682880367979],
    [-8.448606326825173, 115.16822143049532],
    [-8.448680656914071, 115.1682026441023],
    [-8.44884114228443, 115.16819068912491],
    [-8.448976287807682, 115.16819581268665],
    [-8.44910805464726, 115.16873891023074],
    [-8.449157044871008, 115.16889432493674],
    [-8.449243200076992, 115.16890286420632],
    [-8.449328510605133, 115.16888749352108],
    [-8.44973816980908, 115.16881234794899],
    [-8.450030421263904, 115.16875257306208],
    [-8.450136848039266, 115.1687167081299],
    [-8.450261857229961, 115.16866205680472],
    [-8.450466264062587, 115.1686091133334],
    [-8.450723039434337, 115.16856983269344],
    [-8.45083622326101, 115.16856129342389],
    [-8.450957853604889, 115.16855616986216],
    [-8.451055833576225, 115.16855958556998],
    [-8.451123405955743, 115.16855616986216],
    [-8.451226453811714, 115.16856983269346],
    [-8.451283890309648, 115.16860228191779],
    [-8.45132105509787, 115.1686313154343],
    [-8.451385248814544, 115.16862448401865],
    [-8.451454510444234, 115.16859545050214],
    [-8.451503500369917, 115.16857324840129],
    [-8.451537286521933, 115.16856983269344],
    [-8.451635266346042, 115.16856300127779],
    [-8.451691013476234, 115.16855616986216],
    [-8.451761964357548, 115.16854421488475],
    [-8.451824468694557, 115.16854592273866],
    [-8.451897108857269, 115.16856129342388],
    [-8.451995088589948, 115.16860569762561],
    [-8.452079553856759, 115.16862448401864],
    [-8.452152193971415, 115.16864497826556],
    [-8.452209630331454, 115.16866205680469],
    [-8.45230760998472, 115.16868084319772],
    [-8.452407278916805, 115.16868767461337],
    [-8.45253735528094, 115.16867913534382],
    [-8.452653917180353, 115.1686774274899],
    [-8.45282284740681, 115.16868255105162],
    [-8.452897176683003, 115.16872353954555],
    [-8.452995156161546, 115.16882259507246],
    [-8.45308975701375, 115.16898654904803],
    [-8.453177600641443, 115.16912659306884],
    [-8.453292473047455, 115.16923248001137],
    [-8.453292473047455, 115.16923248001137],
    [-8.453393831024334, 115.16928713133657],
    [-8.4535019461703, 115.16931104129134],
    [-8.45357458601697, 115.16932470412263],
    [-8.453637090060122, 115.16932982768438],
    [-8.453701283391188, 115.16932982768438],
    [-8.453760408818244, 115.16932811983048],
    [-8.453750273031392, 115.169473287413],
    [-8.453760408818244, 115.16953135444601],
    [-8.453780680391144, 115.16956892723208],
    [-8.453917513480354, 115.1695450172773],
    [-8.454029007072688, 115.16952110732255],
    [-8.454064482299849, 115.16959112933293],
    [-8.454081375264016, 115.16969530842157],
    [-8.453746894435715, 115.1697994875102],
    [-8.453637090060122, 115.16986950952061],
    [-8.45357458601697, 115.16994465509273],
    [-8.453505324768125, 115.17000442997967],
    [-8.453417481215105, 115.16996173363187],
    [-8.45330429814613, 115.16992757655363],
    [-8.453255308449254, 115.16990708230666],
    [-8.45309144631447, 115.16989000376756],
    [-8.453081310510033, 115.16981656604933],
    [-8.45304245659055, 115.16977728540935],
    [-8.452922516205703, 115.16974483618505],
    [-8.452870147856954, 115.16964748851204],
    [-8.452876905063645, 115.16956721937818],
    [-8.452875215761985, 115.16947841097475],
    [-8.452871837158638, 115.1694032654026],
    [-8.452860012046697, 115.16934178266176],
    [-8.45281271159531, 115.16928029992093],
    [-8.452746828814064, 115.16921369361835],
    [-8.452666586949903, 115.16917014334359],
    [-8.45256185017577, 115.16913598626535],
    [-8.452364201669656, 115.16907962708626],
    [-8.452257775509015, 115.16908645850191],
    [-8.45213952418496, 115.16911549201839],
    [-8.452191892632943, 115.16914964909667],
    [-8.452272979248049, 115.16918039046708],
    [-8.45233548350222, 115.16924870462356],
    [-8.452413191479764, 115.16925724389313],
    [-8.452524685507141, 115.1692709067244],
    [-8.452582121811693, 115.16931360307221],
    [-8.452595636235051, 115.16936142298174],
    [-8.452551714357408, 115.16940924289129],
    [-8.452472317104357, 115.1694229057226],
    [-8.452382784012153, 115.1694775570478],
    [-8.452352376542148, 115.16957148901295],
    [-8.452298318811772, 115.16961760106858],
    [-8.452183446109556, 115.16958685969816],
    [-8.452117563220785, 115.16956978115905],
    [-8.452061816152263, 115.16953220837296],
    [-8.45194356476811, 115.16948438846343],
    [-8.451801663059255, 115.1694502313852],
    [-8.451578674554119, 115.16940070362175],
    [-8.45143846201895, 115.16940070362175],
    [-8.451369200386376, 115.16936996225135],
    [-8.451217162612714, 115.16931701878009],
    [-8.451085396493719, 115.16928627740967],
    [-8.450921533436775, 115.16928798526357],
    [-8.450735709267327, 115.16931189521834],
    [-8.450679961999034, 115.1693597151279],
    [-8.450536370513285, 115.16937167010528],
    [-8.450411361411573, 115.16936654654353],
    [-8.450298177460203, 115.1693614229818],
    [-8.450171478967775, 115.16937337795918],
    [-8.450048159061836, 115.1694058271835],
    [-8.44992483911647, 115.16943656855393],
    [-8.449791383240754, 115.16949463558696],
    [-8.449656238003099, 115.16955782618169],
    [-8.449532917932418, 115.1696432188773],
    [-8.449433248257439, 115.16972348801116],
    [-8.449389326019613, 115.16976447650505],
    [-8.449392704653468, 115.16984132993106],
    [-8.449426490990406, 115.1699711268284],
    [-8.449480549123352, 115.17015215934309],
    [-8.449494063655402, 115.170309281903],
    [-8.449453520057826, 115.17043566309249],
    [-8.449396083287294, 115.17057912282112],
    [-8.449281209720574, 115.17069525688716],
    [-8.449122413851416, 115.1708694579862],
    [-8.448987268379364, 115.17092752501921],
    [-8.448929831539402, 115.17083188520013],
    [-8.448798064638941, 115.17083530090795],
    [-8.448615618087068, 115.17092069360355],
    [-8.44835884131232, 115.1710368276696],
    [-8.44824058879278, 115.17107781616347],
    [-8.448020976874608, 115.17119736593733],
    [-8.447831772660235, 115.17130666858772],
    [-8.447645947002224, 115.17138181415984],
    [-8.447558102114554, 115.17141597123808],
    [-8.4475817526632, 115.17151844247279],
    [-8.44772703457309, 115.17153210530411],
    [-8.447808122126915, 115.17148770110241],
    [-8.447973675829713, 115.17151844247279],
    [-8.448085171140542, 115.1715423524276],
    [-8.448149365395798, 115.17174046348141],
    [-8.447811500774622, 115.17179853051441],
    [-8.447852044544787, 115.1720103043995],
    [-8.447615539158756, 115.17208544997166],
    [-8.447652704300449, 115.17230063956458],
    [-8.447534451564454, 115.17232454951936],
    [-8.447341868459679, 115.17236553801327],
    [-8.447122256029902, 115.17240311079932],
    [-8.446848584980916, 115.17243385216975],
    [-8.446662758849342, 115.1724577621245],
    [-8.446476932628272, 115.17246800924798],
    [-8.446433010053852, 115.17221183116115],
    [-8.446203261121557, 115.17221866257681],
    [-8.446152581191607, 115.17187026037872],
    [-8.445973512052463, 115.17190441745697],
    [-8.445764034840831, 115.17194199024303],
    [-8.445662674858893, 115.1719488216587]
];
L.polygon(koordinatSawahUtaraTiga, {
    color: 'green',
    fillColor: '#29f705',
    fillOpacity: 0.4,
    weight: 1
}).addTo(mymap).bindPopup('Area Persawahan (Utara)');

// Sawah Utara 4
const koordinatSawahUtaraEmpat = [
    [-8.445492052162498, 115.17019143998313],
    [-8.445584965521377, 115.17015386719707],
    [-8.44576403484083, 115.17009580016405],
    [-8.445885666784008, 115.17004456454669],
    [-8.44611034791156, 115.16995234043543],
    [-8.446206639783316, 115.1698942734024],
    [-8.44620495045244, 115.1698088807068],
    [-8.44615427052271, 115.16966542097818],
    [-8.445713354853188, 115.16955270261997],
    [-8.445649160192621, 115.16951342198001],
    [-8.445574829519675, 115.16949121987913],
    [-8.445524149507186, 115.16945193923915],
    [-8.445448129475968, 115.1694280292844],
    [-8.445387313440213, 115.16946560207046],
    [-8.445368730760713, 115.16958002828257],
    [-8.44547346948804, 115.17009409231012]
];
L.polygon(koordinatSawahUtaraEmpat, {
    color: 'green',
    fillColor: '#29f705',
    fillOpacity: 0.4,
    weight: 1
}).addTo(mymap).bindPopup('Area Persawahan (Utara)');

// Sawah Utara 5
const koordinatSawahUtaraLima = [
    [-8.449342025142512, 115.16880466260649],
    [-8.449311617432741, 115.1683537891737],
    [-8.449345403776782, 115.16819325090596],
    [-8.449325131970713, 115.16808394825557],
    [-8.449267695181064, 115.16800880268343],
    [-8.44920350111192, 115.16787217437047],
    [-8.449129171123776, 115.16774237747313],
    [-8.44916971475545, 115.1676945575636],
    [-8.44919336520529, 115.16761941199145],
    [-8.449271073815986, 115.16758525491322],
    [-8.449412976455987, 115.1676125805758],
    [-8.449561636308562, 115.1676125805758],
    [-8.449690024316952, 115.16760233345235],
    [-8.449791383240754, 115.16763307482276],
    [-8.449899499396784, 115.16767747902448],
    [-8.449923149801876, 115.16772529893402],
    [-8.449980586493917, 115.16771505181056],
    [-8.450004236894037, 115.16772871464184],
    [-8.450254255320873, 115.16767406331665],
    [-8.450247498068226, 115.1676399062384],
    [-8.4503083133378, 115.16761599628363],
    [-8.450254255320873, 115.16749986221762],
    [-8.450389400348977, 115.16752035646456],
    [-8.450450215596176, 115.16754085071152],
    [-8.450534681201368, 115.16755109783497],
    [-8.450656311640355, 115.16755109783497],
    [-8.450690097866596, 115.16763649053058],
    [-8.450771184797503, 115.16770138897924],
    [-8.450821864120659, 115.16782435446092],
    [-8.450865786195342, 115.16794731994258],
    [-8.45086240757439, 115.1680600383008],
    [-8.45083537860571, 115.168172756659],
    [-8.450869164816265, 115.16829572214067],
    [-8.450926601367414, 115.16831963209545],
    [-8.451000931009144, 115.16844942899277],
    [-8.450869164816265, 115.16849041748665],
    [-8.45055833156751, 115.16854165310404],
    [-8.450288041582338, 115.1686065515527],
    [-8.450139382009752, 115.16864412433877],
    [-8.45006505220197, 115.16868852854047],
    [-8.449777868719123, 115.16874659557348],
    [-8.449541364513859, 115.16879441548303]
];
L.polygon(koordinatSawahUtaraLima, {
    color: 'green',
    fillColor: '#29f705',
    fillOpacity: 0.4,
    weight: 1
}).addTo(mymap).bindPopup('Area Persawahan (Utara)');

// Sawah Utara 6
const koordinatSawahUtaraEnam = [
    [-8.449401151237977, 115.1715184424729],
    [-8.449380879434838, 115.17144158904688],
    [-8.449412976455983, 115.17139376913732],
    [-8.449465345274225, 115.17137669059822],
    [-8.44955487904378, 115.171361319913],
    [-8.449662995266106, 115.1713476570817],
    [-8.449745771728338, 115.17133399425042],
    [-8.449816722967542, 115.17129642146433],
    [-8.449870781045794, 115.17125714082434],
    [-8.449914703228794, 115.17118711881395],
    [-8.450005926208274, 115.1710573219166],
    [-8.450083634655256, 115.17094631141232],
    [-8.45014782857791, 115.17089507579495],
    [-8.45024074081546, 115.17085237944714],
    [-8.450308313337798, 115.17083530090804],
    [-8.450362371347147, 115.17083530090804],
    [-8.450431633160548, 115.17081993022282],
    [-8.450460351469774, 115.17076698675153],
    [-8.450521166705784, 115.17069525688726],
    [-8.450593807114002, 115.17063889770816],
    [-8.45065969026311, 115.17060474062993],
    [-8.45070868028977, 115.1705739992595],
    [-8.450779631351825, 115.17053813432734],
    [-8.450877611368442, 115.17051764008039],
    [-8.450978969980126, 115.1705039772491],
    [-8.45105836754067, 115.17051422437257],
    [-8.451103978897844, 115.17055008930473],
    [-8.451190133668899, 115.17069696474118],
    [-8.451234055701637, 115.17080455953764],
    [-8.451308385284106, 115.17101804127667],
    [-8.451391161393177, 115.17121786018436],
    [-8.451458733713936, 115.17135619635124],
    [-8.451517859484888, 115.17148257754073],
    [-8.451558402865444, 115.17156797023634],
    [-8.45160739277793, 115.17166361005542],
    [-8.451639489613768, 115.17174217133538],
    [-8.451615839313932, 115.1717848676832],
    [-8.451460423021805, 115.17185488969359],
    [-8.451321899752111, 115.17190612531094],
    [-8.4511310078477, 115.17197956302917],
    [-8.450953630329703, 115.17204446147782],
    [-8.450801592392198, 115.17209740494911],
    [-8.450526234641687, 115.17221183116122],
    [-8.450392778974079, 115.17227160604818],
    [-8.450220469056452, 115.17233308878902],
    [-8.450186682789067, 115.17234333591249],
    [-8.449936664318423, 115.17171484567282],
    [-8.449723810627848, 115.1717831598293],
    [-8.449934975003881, 115.17236724586726],
    [-8.449882606249405, 115.17238944796814],
    [-8.449823480227742, 115.17236041445162],
    [-8.449757596935784, 115.17223403326213],
    [-8.44968157773877, 115.17208374211786],
    [-8.44962076237037, 115.17198810229878],
    [-8.44958021878611, 115.17195052951273],
    [-8.449543053830128, 115.17193345097358],
    [-8.449440005524355, 115.1716397001007]
];
L.polygon(koordinatSawahUtaraEnam, {
    color: 'green',
    fillColor: '#29f705',
    fillOpacity: 0.4,
    weight: 1
}).addTo(mymap).bindPopup('Area Persawahan (Utara)');

// Sawah Utara 7
const koordinatSawahUtaraTujuh = [
    [-8.448279443196064, 115.17149880215302],
    [-8.448448375338721, 115.17209484316835],
    [-8.448672210313786, 115.17201884366928],
    [-8.448709375353676, 115.17212900024661],
    [-8.44882002579215, 115.17209911280314],
    [-8.44856916177536, 115.17139547699132]
];
L.polygon(koordinatSawahUtaraTujuh, {
    color: 'green',
    fillColor: '#29f705',
    fillOpacity: 0.4,
    weight: 1
}).addTo(mymap).bindPopup('Area Persawahan (Utara)');


// --- MEMBUAT LEGEND PETA ---
const legend = L.control({ position: 'topright' });

legend.onAdd = function(map) {
    const div = L.DomUtil.create('div', 'info legend');
    const labels = [
        '<strong>Legenda</strong>'
    ];

    const markerIconUrl = 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png';

    // Item untuk Tempat Penting
    labels.push(
        '<img src="' + markerIconUrl + '"> Tempat Penting'
    );

    // Item untuk Wilayah Desa
    labels.push(
        '<i style="background: #626f78"></i> Wilayah Geluntung'
    );
    
    // Item untuk semua Sawah
    labels.push(
        '<i style="background: #29f705"></i> Sawah'
    );

    div.innerHTML = labels.join('<br>');
    return div;
};

legend.addTo(mymap);
