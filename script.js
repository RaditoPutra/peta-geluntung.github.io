// --- PUSAT PETA & TINGKAT ZOOM ---

    const pusatDesaGeluntung = [-8.45688550301095, 115.17126125700298];

    const tingkatZoomAwal = 14;



    // --- INISIALISASI PETA ---

    const mymap = L.map('mapid').setView(pusatDesaGeluntung, tingkatZoomAwal);



    // --- TAMBAHKAN TILE LAYER (Dasar Peta dari OpenStreetMap) ---

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {

        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'

    }).addTo(mymap);



    // --- TAMBAHKAN MARKER (Penanda Lokasi) ---

    const koordinatKantorDesa = [-8.45688550301095, 115.17126125700298];

    L.marker(koordinatKantorDesa)

        .addTo(mymap)

        .bindPopup('<b>Kantor Perbekel Desa Geluntung</b><br>Pusat Pemerintahan Desa.')

        .openPopup();



    const koordinatSDGeluntung = [-8.458973, 115.170333];

    L.marker(koordinatSDGeluntung)

        .addTo(mymap)

        .bindPopup('<b>SDN 1 Geluntung</b><br>Sekolah Dasar Negeri Geluntung.'); // Dihapus .openPopup() agar tidak semua popup terbuka bersamaan



    // --- MENAMBAHKAN POLYGON ---

    const koordinatPolygonSawah = [

    [-8.459730, 115.170333], [-8.459960, 115.170870], [-8.460539, 115.170599],

    [-8.460739, 115.170949], [-8.460190, 115.171205], [-8.460788, 115.172643],

    [-8.460495, 115.172704], [-8.460081, 115.172673], [-8.459400, 115.172600],

    [-8.459408, 115.173272], [-8.459569, 115.173284], [-8.459586, 115.174503],

    [-8.459737, 115.174532], [-8.459725, 115.174927], [-8.459350, 115.174967],

    [-8.458945, 115.175304], [-8.458858, 115.175432], [-8.458799, 115.175951],

    [-8.458735, 115.176192], [-8.458584, 115.176378], [-8.458204, 115.176183],

    [-8.457997, 115.176151], [-8.457585, 115.176160], [-8.456376, 115.176331],

    [-8.455460, 115.176488], [-8.455210, 115.176558], [-8.454914, 115.176761],

    [-8.454674, 115.177388], [-8.454459, 115.177508], [-8.453800, 115.177705],

    [-8.452686, 115.177848], [-8.452570, 115.177938], [-8.452514, 115.178066],

    [-8.452529, 115.179013], [-8.452454, 115.179298], [-8.452341, 115.179510],

    [-8.452176, 115.179673], [-8.451678, 115.179868], [-8.450868, 115.179998],

    [-8.449258, 115.179908], [-8.449369, 115.180730], [-8.449000, 115.182236],

    [-8.448121, 115.182541], [-8.448742, 115.182592], [-8.449553, 115.182879],

    [-8.450102, 115.182984], [-8.450666, 115.183018], [-8.451475, 115.183141],

    [-8.451921, 115.183261], [-8.452582, 115.183398], [-8.453140, 115.183584],

    [-8.454522, 115.183547], [-8.455219, 115.183559], [-8.455437, 115.183618],

    [-8.455434, 115.183842], [-8.455160, 115.184234], [-8.454877, 115.184428],

    [-8.453507, 115.184795], [-8.453565, 115.186071], [-8.457368, 115.185289],

    [-8.458341, 115.185265], [-8.458652, 115.185289], [-8.459341, 115.185061],

    [-8.460292, 115.184617], [-8.460678, 115.184368], [-8.461175, 115.184142],

    [-8.461389, 115.183935], [-8.462506, 115.183563], [-8.462947, 115.183341],

    [-8.463255, 115.182996], [-8.463351, 115.182672], [-8.463462, 115.182477],

    [-8.463697, 115.182218], [-8.464402, 115.181829], [-8.464684, 115.181640],

    [-8.464940, 115.181404], [-8.465140, 115.181169], [-8.465338, 115.181037],

    [-8.465807, 115.180836], [-8.467083, 115.180517], [-8.467471, 115.180340],

    [-8.467981, 115.179975], [-8.469796, 115.178822], [-8.470817, 115.178465],

    [-8.471120, 115.178431], [-8.471810, 115.178420], [-8.472097, 115.178315],

    [-8.472778, 115.177730], [-8.473268, 115.177098], [-8.473480, 115.176706],

    [-8.473509, 115.175788], [-8.473262, 115.175373], [-8.472900, 115.175483],

    [-8.471413, 115.175571], [-8.470940, 115.175402], [-8.470387, 115.175446],

    [-8.469311, 115.175191], [-8.468962, 115.175191], [-8.468164, 115.175645],

    [-8.467860, 115.175680], [-8.466249, 115.176169], [-8.465990, 115.175816],

    [-8.465870, 115.175412], [-8.465980, 115.175349], [-8.464769, 115.174066],

    [-8.464539, 115.173909], [-8.464339, 115.173449], [-8.464409, 115.173391],

    [-8.463979, 115.171991], [-8.463470, 115.172100], [-8.463450, 115.170980],

    [-8.464209, 115.169680], [-8.464509, 115.169308], [-8.465109, 115.168837],

    [-8.466069, 115.167735], [-8.465119, 115.167068], [-8.464099, 115.167586],

    [-8.463589, 115.168016], [-8.462949, 115.168340], [-8.462199, 115.168971],

    [-8.461959, 115.169080], [-8.460489, 115.169027], [-8.459569, 115.169408],

    [-8.458589, 115.169537], [-8.458089, 115.169564], [-8.457289, 115.169467],

    [-8.457009, 115.169487], [-8.459730, 115.170333] 

    ];

    

    // **PERBAIKAN:** Menggunakan variabel 'koordinatPolygonSawah' yang sudah didefinisikan

    L.polygon(koordinatPolygonSawah, {

        color: 'green',

        fillColor: '#32a852',

        fillOpacity: 0.4

    }).addTo(mymap).bindPopup('Area Persawahan');

